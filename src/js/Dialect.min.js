/**
*   Dialect, 
*   a simple and flexible Cross-Platform SQL Builder for PHP, Python, Node/XPCOM/JS, ActionScript
* 
*   @version: 0.6.2
*   https://github.com/foo123/Dialect
*
*   Abstract the construction of SQL queries
*   Support multiple DB vendors
*   Intuitive and Flexible API
**/
!function(e,n,t){"use strict";var s;"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(e.EXPORTED_SYMBOLS=[n])&&(e[n]=t.call(e)):"object"==typeof module&&module.exports?module.exports=t.call(e):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(n)?define(n,["require","exports","module"],function(){return t.call(e)}):n in e||(e[n]=s=t.call(e))&&"function"==typeof define&&define.amd&&define(function(){return s})}(this,"Dialect",function(e,n){"use strict";function t(e,n){return new Function(e,n)}function s(e,n){return new RegExp(e,n||"")}function i(e){return e.replace(S,"\\$&")}function l(e){return"function"==typeof e}function r(e){return"string"==typeof e}function o(e){return e instanceof Array||"[object Array]"===A.call(e)}function u(e){return e instanceof Object||"[object Object]"===A.call(e)}function a(e){if(!e)return!0;var n=A.call(e);return(e instanceof Array||e instanceof String||"[object Array]"===n||"[object String]"===n)&&!e.length?!0:(e instanceof Object||"[object Array]"===n)&&!T(e).length?!0:!1}function c(e){return parseInt(e||0,10)||0}function _(e){return e===+e&&isFinite(e)&&!(e%1)}function d(e){return o(e)?e:[e]}function f(e,n,t){var s,i,l,r="";for(3>arguments.length&&(t="\\"),2>arguments.length&&(n="\\\"'"+H),s=0,i=e.length;i>s;s++)l=e[N](s),r+=-1===n.indexOf(l)?l:0===l[O](0)?"\\0":t+l;return r}function h(e,n,t,s){t=!0===t,s=!0===s;for(var i in n)n[R](i)&&(t||!e[R](i))&&(e[i]=s&&n[i].slice?n[i].slice():n[i]);return e}function p(e,n){var t=e.length;if(!t)return[];var s,i,l=15&t,r=1&l,o=new Array(t);for(r&&(o[0]=n(e[0])),s=r;l>s;s+=2)i=s,o[s]=n(e[i]),o[s+1]=n(e[i+1]);for(s=l;t>s;s+=16)i=s,o[s]=n(e[i]),o[s+1]=n(e[i+1]),o[s+2]=n(e[i+2]),o[s+3]=n(e[i+3]),o[s+4]=n(e[i+4]),o[s+5]=n(e[i+5]),o[s+6]=n(e[i+6]),o[s+7]=n(e[i+7]),o[s+8]=n(e[i+8]),o[s+9]=n(e[i+9]),o[s+10]=n(e[i+10]),o[s+11]=n(e[i+11]),o[s+12]=n(e[i+12]),o[s+13]=n(e[i+13]),o[s+14]=n(e[i+14]),o[s+15]=n(e[i+15]);return o}function E(e,n){var t=e.length;if(!t)return[];var s,i,l=15&t,r=1&l,o=[];for(r&&n(e[0])&&o.push(e[0]),s=r;l>s;s+=2)i=s,n(e[i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]);for(s=l;t>s;s+=16)i=s,n(e[i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]),n(e[++i])&&o.push(e[i]);return o}function g(e,n,t){var s,i,l="";if(e&&e.length)for(t=null==t?",":t,l=e[0][n],s=1,i=e.length;i>s;s++)l+=t+e[s][n];return l}var v,w,b,q,m="prototype",R="hasOwnProperty",T=Object.keys,A=Object[m].toString,N="charAt",O="charCodeAt",S=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,I=/^\s+|\s+$/g,D=String[m].trim?function(e){return e.trim()}:function(e){return e.replace(I,"")},H=String.fromCharCode(0);v=function j(e,n,t){var s=this;return s instanceof j?(s.id=null,s.tpl=null,s._renderer=null,s._args=[e||"",n||j.defaultArgs,t],void(s._parsed=!1)):new j(e,n,t)},v.defaultArgs=/\$(-?[0-9]+)/g,v.multisplit=function(e,n,t){var s,i,l,r,o,u,a,c,_,d;t=!!t,u=[[1,e]];for(s in n)if(n.hasOwnProperty(s)){for(c=[],i=t?n[s]:s,l=[0,n[s]],r=0,_=u.length;_>r;r++)if(1===u[r][0]){if(a=u[r][1].split(i),d=a.length,c.push([1,a[0]]),d>1)for(o=0;d-1>o;o++)c.push(l),c.push([1,a[o+1]])}else c.push(u[r]);u=c}return u},v.multisplit_re=function(e,n){n=n.global?n:new RegExp(n.source,n.ignoreCase?"gi":"g");for(var t,s=[],i=0;t=n.exec(e);)s.push([1,e.slice(i,n.lastIndex-t[0].length)]),s.push([0,t[1]?t[1]:t[0]]),i=n.lastIndex;return s.push([1,e.slice(i)]),s},v.arg=function(e,n){var t,s,i,l,r,o="args";if(arguments.length&&null!=e)for(e=e.substr?e.length?e.split("."):[]:[e],l=e.length,r=!(!n||!n.substr),t=0;l>t;t++)s=e[t],i=+s,isNaN(i)?o+='["'+s+'"]':(0>i&&(s=r?n+-i:o+".length-"+-i),o+="["+s+"]");return o},v.compile=function(e,n){var s,i,l,r,o=e.length;if(!0===n){for(r='"use strict"; return (',s=0;o>s;s++)i=e[s][0],l=e[s][1],r+=i?l:v.arg(l);r+=");"}else{for(r='"use strict"; var argslen=args.length; return (',s=0;o>s;s++)i=e[s][0],l=e[s][1],r+=i?"'"+l.replace(SQUOTE,"\\'").replace(NEWLINE,"' + \"\\n\" + '")+"'":" + String("+v.arg(l,"argslen")+") + ";r+=");"}return t("args",r)},v[m]={constructor:v,id:null,tpl:null,_parsed:!1,_args:null,_renderer:null,dispose:function(){var e=this;return e.id=null,e.tpl=null,e._parsed=null,e._args=null,e._renderer=null,e},fixRenderer:function(){var e=this;return e.render="function"==typeof e._renderer?e._renderer:e.constructor[m].render,e},parse:function(){var e=this;if(!1===e._parsed){var n=e._args[0],t=e._args[1],s=e._args[2];e._args=null,e.tpl=t instanceof RegExp?v.multisplit_re(n,t):v.multisplit(n,t),e._parsed=!0,!0===s&&(e._renderer=v.compile(e.tpl),e.fixRenderer())}return e},render:function(e){var n=this;if(e=e||[],!1===n._parsed&&(n.parse(),n._renderer))return n._renderer(e);var t,s,i,l=n.tpl,r=l.length,o=e.length,u="";for(t=0;r>t;t++)s=l[t],1===s[0]?u+=s[1]:(i=s[1],+i===i&&0>i&&(i=o+i),u+=e[i]);return u}},w=function k(e,n){var t=this;return t instanceof k?(t.id=null,t.tpl=null,t._args=[e||"",n||k.defaultDelims],void(t._parsed=!1)):new k(e,n)},w.VERSION="1.0.0",w.defaultDelims=["<",">","[","]"],w.multisplit=function(e,n){var t,s,i,l,r,o,u,a,c,_,d,f,h=n[0],p=n[1],E=n[2],g=n[3],v=h.length,w=p.length,b=E.length,q=g.length,m="?",R="*",T="!",A="|",O="{",S="}",I=null,H=0,L=0,W=e.length;for(_=0,u=[[],null,0,0,0,0,null],r=[],c="";W>_;)if(h===e.substr(_,v))_+=v,c.length&&u[0].push([0,c]),c="";else if(p===e.substr(_,w)){if(_+=w,i=c,c="",-1<(l=i.indexOf(A))?(I=i.slice(l+1),i=i.slice(0,l)):I=null,o=i[N](0),m===o||R===o)L=1,R===o?(t=1,s=-1):(t=0,s=0),i=i.slice(1),T===i[N](0)?(H=1,i=i.slice(1)):H=0;else if(O===o){for(c="",d=1,f=i.length;f>d&&S!==i[N](d);)c+=i[N](d++);i=i.slice(d+1),c=c.split(","),c.length>1?(t=D(c[0]),t=t.length?parseInt(t,10)||0:0,s=D(c[1]),s=s.length?parseInt(s,10)||0:-1,L=1):(t=D(c[0]),t=t.length?parseInt(t,10)||0:0,s=t,L=0),c="",H=0}else L=0,H=0,t=0,s=0;H&&null===I&&(I=""),L&&!u[2]?(u[1]=i,u[2]=L,u[3]=H,u[4]=t,u[5]=s,u[6]=[[i,H,t,s]]):L?u[6].push([i,H,t,s]):L||null!==u[1]||(u[1]=i,u[2]=0,u[3]=H,u[4]=t,u[5]=s,u[6]=[[i,H,t,s]]),u[0].push([1,i,I,L,H,t,s])}else E===e.substr(_,b)?(_+=b,c.length&&u[0].push([0,c]),c="",r.push(u),u=[[],null,0,0,0,0,null]):g===e.substr(_,q)?(_+=q,a=u,u=r.pop(),c.length&&a[0].push([0,c]),c="",u[0].push([-1,a[1],a[2],a[3],a[4],a[5],a[6],a[0]])):c+=e[N](_++);return c.length&&u[0].push([0,c]),u[0]},w[m]={constructor:w,id:null,tpl:null,_parsed:!1,_args:null,dispose:function(){var e=this;return e.id=null,e.tpl=null,e._args=null,e._parsed=null,e},parse:function(){var e=this;return!1===e._parsed&&(e.tpl=w.multisplit(e._args[0],e._args[1]),e._args=null,e._parsed=!0),e},render:function(e){var n=this;!1===n._parsed&&n.parse(),e=e||{};var t,s,i,l,r,u,a,c,_,d,f,h,p,E=n.tpl,g=E.length,v=[],w=Math.min,b=null,q=0,m="";for(i=0;g>i||v.length;)if(i>=g)t=v.pop(),E=t[0],i=t[1],g=t[2],b=t[3]||null,q=t[4]||0;else{if(l=E[i],r=l[0],u=l[1],-1===r){if(_=l[6],_&&_.length){for(d=!0,f=0,h=_.length;h>f;f++)if(p=_[f],0===p[1]&&!e[R](p[0])||1===p[1]&&e[R](p[0])){d=!1;break}if(d){if(1===l[3]){v.push([E,i+1,g,b,q]),E=l[7],i=0,g=E.length,b=null,q=0;continue}if(s=o(e[u]),s&&l[4]!==l[5]&&e[u].length>l[4]){if(a=l[4],c=-1===l[5]?e[u].length-1:w(l[5],e[u].length-1),c>=a){for(v.push([E,i+1,g,b,q]),E=l[7],i=0,g=E.length,b=u,q=c;q>a;q--)v.push([E,0,g,b,q]);q=a;continue}}else if(!s&&l[4]===l[5]){v.push([E,i+1,g,b,q]),E=l[7],i=0,g=E.length,b=u,q=0;continue}}}}else m+=1===r?e[R](u)||null===l[2]?o(e[u])?u===b?e[u][l[5]===l[6]?l[5]:q]:e[u][l[5]]:e[u]:l[2]:u;i++}return m}},b=function(e,n,t,s,i,l,r,o,u,a,c){var _=this;if(_._col=e,_.col=n,_._tbl=t,_.tbl=s,_._dtb=i,_.dtb=l,_._alias=r,_._qualified=u,_.qualified=a,_.full=_.qualified,_._func=null==c?[]:c,_._func.length)for(var d=0,f=_._func.length;f>d;d++)_.full=_._func[d]+"("+_.full+")";null!=_._alias?(_.alias=o,_.aliased=_.full+" AS "+_.alias):(_.alias=_.full,_.aliased=_.full)};var L=/\s/,W=/[0-9]/,y=/[a-z_]/i;b.parse=function(e,n){var t,s,i,l,r,o,u,a,c,_,d,f,h,p,E,g,v,w,q,m,R,T,A,N,O=["AS"];for(e=D(e),s=e.length,t=0,i=[[]],l=i[0],r=[],o=[],u="",a=null,d=0,f=null;s>t;){if(h=e.charAt(t++),'"'===h||"`"===h||"'"===h||"["===h||"]"===h){if(!f){if(u.length||"]"===h){a=["invalid",t];break}f="["===h?"]":h;continue}if(f===h){if(!u.length){a=["invalid",t];break}l.unshift([1,u]),r.unshift(u),u="",f=null;continue}if(f){u+=h;continue}}if(f)u+=h;else if("*"===h){if(u.length){a=["invalid",t];break}l.unshift([10,"*"]),r.unshift(10)}else if("."===h){if(u.length&&(l.unshift([1,u]),r.unshift(u),u=""),!l.length||1!==l[0][0]){a=["invalid",t];break}l.unshift([0,"."]),r.unshift(0)}else if("("===h){if(d++,u.length&&(l.unshift([2,u]),o.unshift(u),u=""),!l.length||2!==l[0][0]&&1!==l[0][0]){a=["invalid",t];break}1===l[0][0]&&(l[0][0]=2,o.unshift(r.shift())),i.unshift([]),l=i[0]}else if(")"===h){if(d--,u.length&&(p=-1<O.indexOf(u.toUpperCase()),l.unshift([p?5:1,u]),r.unshift(p?5:u),u=""),i.length<2){a=["invalid",t];break}i[1].unshift([100,i.shift()]),l=i[0]}else{if(L.test(h)){u.length&&(p=-1<O.indexOf(u.toUpperCase()),l.unshift([p?5:1,u]),r.unshift(p?5:u),u="");continue}if(W.test(h)){if(!u.length){a=["invalid",t];break}u+=h}else{if(!y.test(h)){a=["invalid",t];break}u+=h}}}if(u.length&&(l.unshift([1,u]),r.unshift(u),u=""),!a&&d&&(a=["paren",s]),!a&&f&&(a=["quote",s]),a||1===i.length||(a=["invalid",s]),a)throw c=a[1]-1,_=a[0],new TypeError("paren"==_?'Dialect: Mismatched parentheses "'+e+'" at position '+c+".":"quote"==_?'Dialect: Mismatched quotes "'+e+'" at position '+c+".":'Dialect: Invalid character "'+e+'" at position '+c+".");return R=null,T="",r.length>=3&&5===r[1]&&"string"==typeof r[0]&&(R=r.shift(),T=n.quote_name(R),r.shift()),E=null,g="",!r.length||"string"!=typeof r[0]&&10!==r[0]||(10===r[0]?(r.shift(),E=g="*"):(E=r.shift(),g=n.quote_name(E))),v=null,w="",r.length>=2&&0===r[0]&&"string"==typeof r[1]&&(r.shift(),v=r.shift(),w=n.quote_name(v)),q=null,m="",r.length>=2&&0===r[0]&&"string"==typeof r[1]&&(r.shift(),q=r.shift(),m=n.quote_name(q)),A=(q?q+".":"")+(v?v+".":"")+(E?E:""),N=(q?m+".":"")+(v?w+".":"")+(E?g:""),new b(E,g,v,w,q,m,R,T,A,N,o)},b[m]={constructor:b,_func:null,_col:null,col:null,_tbl:null,tbl:null,_dtb:null,dtb:null,_alias:null,alias:null,_qualified:null,qualified:null,full:null,aliased:null,cloned:function(e,n,t){var s=this;return arguments.length?n=n||e:(e=s._alias,n=s.alias),null==t&&(t=s._func),new b(s._col,s.col,s._tbl,s.tbl,s._dtb,s.dtb,e,n,s._qualified,s.qualified,t)},dispose:function(){var e=this;return e._func=null,e._col=null,e.col=null,e._tbl=null,e.tbl=null,e._dtb=null,e.dtb=null,e._alias=null,e.alias=null,e._qualified=null,e.qualified=null,e.full=null,e.aliased=null,e}};var C={mysql:{quotes:[["'","'","\\'","\\'"],["`","`"],["",""]],functions:{strpos:["POSITION(",1," IN ",0,")"],strlen:["LENGTH(",0,")"],strlower:["LCASE(",0,")"],strupper:["UCASE(",0,")"],trim:["TRIM(",0,")"],quote:["QUOTE(",0,")"],random:["RAND()"],now:["NOW()"]},clauses:{create:"CREATE TABLE IF NOT EXISTS <create_table>\n(<create_defs>)[<?create_opts>]",alter:"ALTER TABLE <alter_table>\n<alter_defs>[<?alter_opts>]",drop:"DROP TABLE IF EXISTS <drop_tables>[,<*drop_tables>]",select:"SELECT <select_columns>[,<*select_columns>]\nFROM <from_tables>[,<*from_tables>][\n<?join_clauses>[\n<*join_clauses>]][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nGROUP BY <?group_conditions>[,<*group_conditions>]][\nHAVING (<?having_conditions_required>) AND (<?having_conditions>)][\nHAVING <?having_conditions_required><?!having_conditions>][\nHAVING <?!having_conditions_required><?having_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <offset|0>,<?count>]",insert:"INSERT INTO <insert_tables> (<insert_columns>[,<*insert_columns>])\nVALUES <values_values>[,<*values_values>]",update:"UPDATE <update_tables>\nSET <set_values>[,<*set_values>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <offset|0>,<?count>]","delete":"DELETE \nFROM <from_tables>[,<*from_tables>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <offset|0>,<?count>]"}},postgres:{quotes:[["E'","'","''","''"],['"','"'],["",""]],functions:{strpos:["position(",1," in ",0,")"],strlen:["length(",0,")"],strlower:["lower(",0,")"],strupper:["upper(",0,")"],trim:["trim(",0,")"],quote:["quote(",0,")"],random:["random()"],now:["now()"]},clauses:{create:"CREATE TABLE IF NOT EXISTS <create_table>\n(<create_defs>)[<?create_opts>]",alter:"ALTER TABLE <alter_table>\n<alter_defs>[<?alter_opts>]",drop:"DROP TABLE IF EXISTS <drop_tables>[,<*drop_tables>]",select:"SELECT <select_columns>[,<*select_columns>]\nFROM <from_tables>[,<*from_tables>][\n<?join_clauses>[\n<*join_clauses>]][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nGROUP BY <?group_conditions>[,<*group_conditions>]][\nHAVING (<?having_conditions_required>) AND (<?having_conditions>)][\nHAVING <?having_conditions_required><?!having_conditions>][\nHAVING <?!having_conditions_required><?having_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <?count> OFFSET <offset|0>]",insert:"INSERT INTO <insert_tables> (<insert_columns>[,<*insert_columns>])\nVALUES <values_values>[,<*values_values>]",update:"UPDATE <update_tables>\nSET <set_values>[,<*set_values>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <?count> OFFSET <offset|0>]","delete":"DELETE \nFROM <from_tables>[,<*from_tables>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <?count> OFFSET <offset|0>]"}},sqlserver:{quotes:[["'","'","''","''"],["[","]"],[""," ESCAPE '\\'"]],functions:{strpos:["CHARINDEX(",1,",",0,")"],strlen:["LEN(",0,")"],strlower:["LOWER(",0,")"],strupper:["UPPER(",0,")"],trim:["LTRIM(RTRIM(",0,"))"],quote:["QUOTENAME(",0,',"\'")'],random:["RAND()"],now:["CURRENT_TIMESTAMP"]},clauses:{create:"CREATE TABLE IF NOT EXISTS <create_table>\n(<create_defs>)[<?create_opts>]",alter:"ALTER TABLE <alter_table>\n<alter_defs>[<?alter_opts>]",drop:"DROP TABLE IF EXISTS <drop_tables>[,<*drop_tables>]",select:"SELECT <select_columns>[,<*select_columns>]\nFROM <from_tables>[,<*from_tables>][\n<?join_clauses>[\n<*join_clauses>]][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nGROUP BY <?group_conditions>[,<*group_conditions>]][\nHAVING (<?having_conditions_required>) AND (<?having_conditions>)][\nHAVING <?having_conditions_required><?!having_conditions>][\nHAVING <?!having_conditions_required><?having_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>][\nOFFSET <offset|0> ROWS FETCH NEXT <?count> ROWS ONLY]][<?!order_conditions>[\nORDER BY 1\nOFFSET <offset|0> ROWS FETCH NEXT <?count> ROWS ONLY]]",insert:"INSERT INTO <insert_tables> (<insert_columns>[,<*insert_columns>])\nVALUES <values_values>[,<*values_values>]",update:"UPDATE <update_tables>\nSET <set_values>[,<*set_values>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]]","delete":"DELETE \nFROM <from_tables>[,<*from_tables>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]]"}},sqlite:{quotes:[["'","'","''","''"],['"','"'],[""," ESCAPE '\\'"]],functions:{strpos:["instr(",1,",",0,")"],strlen:["length(",0,")"],strlower:["lower(",0,")"],strupper:["upper(",0,")"],trim:["trim(",0,")"],quote:["quote(",0,")"],random:["random()"],now:["datetime('now')"]},clauses:{create:"CREATE TABLE IF NOT EXISTS <create_table>\n(<create_defs>)[<?create_opts>]",alter:"ALTER TABLE <alter_table>\n<alter_defs>[<?alter_opts>]",drop:"DROP TABLE IF EXISTS <drop_tables>[,<*drop_tables>]",select:"SELECT <select_columns>[,<*select_columns>]\nFROM <from_tables>[,<*from_tables>][\n<?join_clauses>[\n<*join_clauses>]][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>][\nGROUP BY <?group_conditions>[,<*group_conditions>]][\nHAVING (<?having_conditions_required>) AND (<?having_conditions>)][\nHAVING <?having_conditions_required><?!having_conditions>][\nHAVING <?!having_conditions_required><?having_conditions>][\nORDER BY <?order_conditions>[,<*order_conditions>]][\nLIMIT <?count> OFFSET <offset|0>]",insert:"INSERT INTO <insert_tables> (<insert_columns>[,<*insert_columns>])\nVALUES <values_values>[,<*values_values>]",update:"UPDATE <update_tables>\nSET <set_values>[,<*set_values>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>]","delete":"[<?!order_conditions><?!count>DELETE FROM <from_tables> [, <*from_tables>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>]][DELETE FROM <from_tables> [, <*from_tables>] WHERE rowid IN (\nSELECT rowid FROM <from_tables> [, <*from_tables>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>]\nORDER BY <?order_conditions> [, <*order_conditions>][\nLIMIT <?count> OFFSET <offset|0>]\n)][<?!order_conditions>DELETE FROM <from_tables> [, <*from_tables>] WHERE rowid IN (\nSELECT rowid FROM <from_tables> [, <*from_tables>][\nWHERE (<?where_conditions_required>) AND (<?where_conditions>)][\nWHERE <?where_conditions_required><?!where_conditions>][\nWHERE <?!where_conditions_required><?where_conditions>]\nLIMIT <?count> OFFSET <offset|0>\n)]"}}};return q=function F(e){var n=this;if(!(n instanceof F))return new F(e);if(arguments.length||(e="mysql"),!e||!F.dialects[e]||!F.dialects[e].clauses)throw new TypeError('Dialect: SQL dialect does not exist for "'+e+'"');n.clau=null,n.clus=null,n.tbls=null,n.cols=null,n.vews={},n.tpls={},n.db=null,n.escdb=null,n.p="",n.type=e,n.clauses=F.dialects[n.type].clauses,n.q=F.dialects[n.type].quotes[0],n.qn=F.dialects[n.type].quotes[1],n.e=F.dialects[n.type].quotes[2]||["",""]},q.VERSION="0.6.2",q.TPL_RE=/\$\(([^\)]+)\)/g,q.dialects=C,q.GrammarTemplate=w,q.Template=v,q.Ref=b,q[m]={constructor:q,clau:null,clus:null,tbls:null,cols:null,vews:null,tpls:null,db:null,escdb:null,p:null,type:null,clauses:null,q:null,qn:null,e:null,dispose:function(){var e=this;return e.clau=null,e.clus=null,e.tbls=null,e.cols=null,e.vews=null,e.tpls=null,e.db=null,e.escdb=null,e.p=null,e.type=null,e.clauses=null,e.q=null,e.qn=null,e.e=null,e},toString:function(){return this.sql()||""},driver:function(e){var n=this;return arguments.length?(n.db=e?e:null,n):n.db},escape:function(e){var n=this;return arguments.length?(n.escdb=e&&l(e)?e:null,n):n.escdb},prefix:function(e){var n=this;return arguments.length?(n.p=e&&e.length?e:"",n):n.p},reset:function(e){var n=this;if(!e||!n.clauses[R](e))throw new TypeError('Dialect: SQL clause "'+e+'" does not exist for dialect "'+n.type+'"');return n.clus={},n.tbls={},n.cols={},n.clau=e,n.clauses[n.clau]instanceof w||(n.clauses[n.clau]=new w(n.clauses[n.clau])),n},clear:function(){var e=this;return e.clau=null,e.clus=null,e.tbls=null,e.cols=null,e},sql:function(){var e=this,n=null;return e.clau&&e.clauses[R](e.clau)&&(e.clus[R]("select_columns")&&(e.clus.select_columns=g(e.clus.select_columns,"aliased")),e.clus[R]("from_tables")&&(e.clus.from_tables=g(e.clus.from_tables,"aliased")),e.clus[R]("insert_tables")&&(e.clus.insert_tables=g(e.clus.insert_tables,"aliased")),e.clus[R]("insert_columns")&&(e.clus.insert_columns=g(e.clus.insert_columns,"full")),e.clus[R]("update_tables")&&(e.clus.update_tables=g(e.clus.update_tables,"aliased")),e.clus[R]("create_table")&&(e.clus.create_table=g(e.clus.create_table,"full")),e.clus[R]("alter_table")&&(e.clus.alter_table=g(e.clus.alter_table,"full")),e.clus[R]("drop_tables")&&(e.clus.drop_tables=g(e.clus.drop_tables,"full")),n=e.clauses[e.clau].render(e.clus)||""),e.clear(),n},createView:function(e){var n=this;return e&&n.clau&&(n.vews[e]={clau:n.clau,clus:n.clus,tbls:n.tbls,cols:n.cols},n.vews[e].clus[R]("where_conditions")&&(n.vews[e].clus.where_conditions&&(n.vews[e].clus.where_conditions_required=n.vews[e].clus.where_conditions),delete n.vews[e].clus.where_conditions),n.vews[e].clus[R]("having_conditions")&&(n.vews[e].clus.having_conditions&&(n.vews[e].clus.having_conditions_required=n.vews[e].clus.having_conditions),delete n.vews[e].clus.having_conditions),n.clear()),n},useView:function(e){var n,t,s=this;if(n=s.clus.select_columns,e=s.vews[e],s.clus=h(s.clus,e.clus,!0,!0),s.tbls=h({},e.tbls,!0),s.cols=h({},e.cols,!0),n){n=s.refs(n,s.cols,!0),t=[];for(var i=0,l=n.length;l>i;i++)"*"===n[i].full?t=t.concat(s.clus.select_columns):t.push(n[i]);s.clus.select_columns=t}return s},dropView:function(e){var n=this;return e&&n.vews[R](e)&&delete n.vews[e],n},prepareTpl:function(e){var n,t,l,r,o,u,c,_,d=this;return a(e)||(l=arguments,r=l.length,1===r?(o=null,u=null,c=null,_=!0):2===r?(o=l[1],u=null,c=null,_=!1):3===r?(o=null,u=l[1],c=l[2],_=!0):(o=l[1],u=l[2],c=l[3],_=!1),u=u?i(u):"%",c=c?i(c):"%",n=s(u+"(([rlfds]:)?[0-9a-zA-Z_]+)"+c),t=_?new v(d.sql(),n):new v(o,n),d.tpls[e]={sql:t,types:null}),d},prepared:function(e,n){var t,s,i,l,r,u,c,_,f,h,r,p=this;if(!a(e)&&p.tpls[R](e)){if(t=p.tpls[e].sql,s=p.tpls[e].types,null===s){for(t.parse(),s={},_=0,f=t.tpl.length;f>_;_++)h=t.tpl[_],0===h[0]&&(r=h[1].split(":"),r.length>1?(s[r[1]]=r[0],t.tpl[_][1]=r[1]):(s[r[0]]="s",t.tpl[_][1]=r[0]));p.tpls[e].types=s}l={};for(r in n)if(n[R](r))switch(u=n[r],i=s[R](r)?s[r]:"s"){case"r":l[r]=o(u)?u.join(","):u;break;case"l":l[r]=p.like(u);break;case"f":if(o(u))for(c=d(u),l[r]=b.parse(c[0],p).aliased,_=1,f=c.length;f>_;_++)l[r]+=","+b.parse(c[_],p).aliased;else l[r]=b.parse(u,p).aliased;break;case"d":l[r]=o(u)?p.intval(d(u)).join(","):p.intval(u);break;case"s":default:l[r]=o(u)?p.quote(d(u)).join(","):p.quote(u)}return t.render(l)}return""},prepare:function(e,n,t,l){var r,u,a,c,_,f,h,p,E,g,v=this;if(e&&n){for(t=t?i(t):"%",l=l?i(l):"%",r=s(t+"([rlfds]:)?([0-9a-zA-Z_]+)"+l),g="";e.length&&(u=e.match(r));){if(a=u.index,c=u[0].length,p=u[2],n[R](p)){switch(E=u[1]?u[1].slice(0,-1):"s"){case"r":p=o(n[p])?n[p].join(","):n[p];break;case"l":p=v.like(n[p]);break;case"f":if(o(n[p]))for(h=d(n[p]),p=b.parse(h[0],v).aliased,_=1,f=h.length;f>_;_++)p+=","+b.parse(h[_],v).aliased;else p=b.parse(n[p],v).aliased;break;case"d":p=o(n[p])?v.intval(d(n[p])).join(","):v.intval(n[p]);break;case"s":default:p=o(n[p])?v.quote(d(n[p])).join(","):v.quote(n[p])}g+=e.slice(0,a)+p}else g+=e.slice(0,a)+v.quote("");e=e.slice(a+c)}return e.length&&(g+=e),g}return e},dropTpl:function(e){var n=this;return!a(e)&&n.tpls[R](e)&&(n.tpls[e].sql.dispose(),delete n.tpls[e]),n},Create:function(e,n,t,s){var i=this;return s=s||"create",i.clau!==s&&i.reset(s),i.clus.create_table=i.refs(e,i.tbls),i.clus.create_defs&&(n=i.clus.create_defs+","+n),i.clus.create_defs=n,t&&(i.clus.create_opts&&(t=i.clus.create_opts+","+t),i.clus.create_opts=t),i},Alter:function(e,n,t,s){var i=this;return s=s||"alter",i.clau!==s&&i.reset(s),i.clus.alter_table=i.refs(e,i.tbls),i.clus.alter_defs&&(n=i.clus.alter_defs+","+n),i.clus.alter_defs=n,t&&(i.clus.alter_opts&&(t=i.clus.alter_opts+","+t),i.clus.alter_opts=t),i},Drop:function(e,n){var t,s=this;return n=n||"drop",s.clau!==n&&s.reset(n),t=o(e)?e[0]:e,s.vews[R](t)?(s.dropView(t),s):(e=s.refs(null==e?"*":e,s.tbls),s.clus.drop_tables=s.clus.drop_tables?s.clus.drop_tables.concat(e):e,s)},Select:function(e,n){var t=this;return n=n||"select",t.clau!==n&&t.reset(n),e=t.refs(null==e?"*":e,t.cols),t.clus.select_columns=t.clus.select_columns?t.clus.select_columns.concat(e):e,t},Insert:function(e,n,t){var s,i=this;return t=t||"insert",i.clau!==t&&i.reset(t),s=o(e)?e[0]:e,i.vews[R](s)&&i.clau===i.vews[s].clau?i.useView(s):(e=i.refs(e,i.tbls),n=i.refs(n,i.cols),i.clus.insert_tables=i.clus.insert_tables?i.clus.insert_tables.concat(e):e,i.clus.insert_columns=i.clus.insert_columns?i.clus.insert_columns.concat(n):n),i},Values:function(e){var t,s,i,l,r,c,f,h,p=this;if(a(e))return p;for(n!==e[0]&&o(e[0])||(e=[e]),t=e.length,s=[],l=0;t>l;l++)if(h=d(e[l]),h.length){for(i=[],c=0,f=h.length;f>c;c++)r=h[c],u(r)?r[R]("integer")?i.push(p.intval(r.integer)):r[R]("raw")?i.push(r.raw):r[R]("string")&&i.push(p.quote(r.string)):i.push(_(r)?r:p.quote(r));s.push("("+i.join(",")+")")}return s=s.join(","),p.clus.values_values&&(s=p.clus.values_values+","+s),p.clus.values_values=s,p},Update:function(e,n){var t,s=this;return n=n||"update",s.clau!==n&&s.reset(n),t=o(e)?e[0]:e,s.vews[R](t)&&s.clau===s.vews[t].clau?s.useView(t):(e=s.refs(e,s.tbls),s.clus.update_tables=s.clus.update_tables?s.clus.update_tables.concat(e):e),s},Set:function(e){var n,t,s,i,l,r,o=this;if(a(e))return o;n=[],r=o.cols;for(s in e)if(e[R](s))if(i=o.refs(s,r)[0].full,l=e[s],u(l)){if(l[R]("integer"))n.push(i+" = "+o.intval(l.integer));else if(l[R]("raw"))n.push(i+" = "+l.raw);else if(l[R]("string"))n.push(i+" = "+o.quote(l.string));else if(l[R]("increment"))n.push(i+" = "+i+" + "+o.intval(l.increment));else if(l[R]("decrement"))n.push(i+" = "+i+" - "+o.intval(l.increment));else if(l[R]("case")){if(t=i+" = CASE",l["case"][R]("when")){for(case_value in l["case"].when)l["case"].when[R](case_value)&&(t+="\nWHEN "+o.conditions(l["case"].when[case_value],!1)+" THEN "+o.quote(case_value));l["case"][R]("else")&&(t+="\nELSE "+o.quote(l["case"]["else"]))}else for(case_value in l["case"])l["case"][R](case_value)&&(t+="\nWHEN "+o.conditions(l["case"][case_value],!1)+" THEN "+o.quote(case_value));t+="\nEND",n.push(t)}}else n.push(i+" = "+(_(l)?l:o.quote(l)));return n=n.join(","),o.clus.set_values&&(n=o.clus.set_values+","+n),o.clus.set_values=n,o},Delete:function(e){var n=this;return e=e||"delete",n.clau!==e&&n.reset(e),n},From:function(e){var n,e,t=this;return a(e)?t:(n=o(e)?e[0]:e,t.vews[R](n)&&t.clau===t.vews[n].clau?t.useView(n):(e=t.refs(e,t.tbls),t.clus.from_tables=t.clus.from_tables?t.clus.from_tables.concat(e):e),t)},Join:function(e,n,t){var s,i,l,o=this;if(e=o.refs(e,o.tbls)[0].aliased,a(n))s=e;else{if(r(n))n=o.refs(n.split("="),o.cols),n="("+n[0].full+"="+n[1].full+")";else{for(i in n)n[R](i)&&(l=n[i],u(l)||(n[i]={eq:l,type:"identifier"}));n="("+o.conditions(n,!1)+")"}s=e+" ON "+n}return s=(a(t)?"JOIN ":t.toUpperCase()+" JOIN ")+s,o.clus.join_clauses&&(s=o.clus.join_clauses+"\n"+s),o.clus.join_clauses=s,o},Where:function(e,n){var t=this;return a(e)?t:(n=n?n.toUpperCase():"AND","OR"!==n&&(n="AND"),e=t.conditions(e,!1),t.clus.where_conditions&&(e=t.clus.where_conditions+" "+n+" "+e),t.clus.where_conditions=e,t)},Group:function(e,n){var t,s=this;return n=n?n.toUpperCase():"ASC","DESC"!==n&&(n="ASC"),t=s.refs(e,s.cols)[0].alias+" "+n,s.clus.group_conditions&&(t=s.clus.group_conditions+","+t),s.clus.group_conditions=t,s},Having:function(e,n){var t=this;return a(e)?t:(n=n?n.toUpperCase():"AND","OR"!==n&&(n="AND"),e=t.conditions(e,!0),t.clus.having_conditions&&(e=t.clus.having_conditions+" "+n+" "+e),t.clus.having_conditions=e,t)},Order:function(e,n){var t,s=this;return n=n?n.toUpperCase():"ASC","DESC"!==n&&(n="ASC"),t=s.refs(e,s.cols)[0].alias+" "+n,s.clus.order_conditions&&(t=s.clus.order_conditions+","+t),s.clus.order_conditions=t,s},Limit:function(e,n){var t=this;return t.clus.count=c(e),t.clus.offset=c(n),t},Page:function(e,n){var t=this;return e=c(e),n=c(n),t.Limit(n,e*n)},conditions:function(e,n){var t,s,i,l,o,c,f,h,p,E,g,v,w,b=this;if(a(e))return"";if(r(e))return e;t="",s=[],E=b.cols,c=!0===n?"alias":"full";for(i in e)if(e[R](i))if(o=e[i],u(o)){if(o[R]("raw")){s.push(String(o.raw));continue}if(o[R]("either")){g=[];for(var q=0,m=o.either.length;m>q;q++)v={},v[i]=o.either[q],g.push(b.conditions(v,n));s.push(g.join(" OR "));continue}if(l=b.refs(i,E)[0][c],h=o[R]("type")?o.type:"string",o[R]("case")){if(g=l+" = CASE",o["case"][R]("when")){for(w in o["case"].when)o["case"].when[R](w)&&(g+=" WHEN "+b.conditions(o["case"].when[w],n)+" THEN "+b.quote(w));o["case"][R]("else")&&(g+=" ELSE "+b.quote(o["case"]["else"]))}else for(w in o["case"])o["case"][R](w)&&(g+=" WHEN "+b.conditions(o["case"][w],n)+" THEN "+b.quote(w));g+=" END",s.push(g)}else o[R]("multi_like")?s.push(b.multi_like(l,o.multi_like)):o[R]("like")?s.push(l+" LIKE "+("raw"===h?o.like:b.like(o.like))):o[R]("not_like")?s.push(l+" NOT LIKE "+("raw"===h?o.not_like:b.like(o.not_like))):o[R]("contains")?(p=String(o.contains),"raw"===h||(p=b.quote(p)),s.push(b.sql_function("strpos",[l,p])+" > 0")):o[R]("not_contains")?(p=String(o.not_contains),"raw"===h||(p=b.quote(p)),s.push(b.sql_function("strpos",[l,p])+" = 0")):o[R]("in")?(p=d(o["in"]),"raw"===h||(p="integer"===h||_(p[0])?b.intval(p):b.quote(p)),s.push(l+" IN ("+p.join(",")+")")):o[R]("not_in")?(p=d(o.not_in),"raw"===h||(p="integer"===h||_(p[0])?b.intval(p):b.quote(p)),s.push(l+" NOT IN ("+p.join(",")+")")):o[R]("between")?(p=d(o.between),"raw"===h||(p="integer"===h||_(p[0])&&_(p[1])?b.intval(p):b.quote(p)),s.push(l+" BETWEEN "+p[0]+" AND "+p[1])):o[R]("not_between")?(p=d(o.not_between),"raw"===h||(p="integer"===h||_(p[0])&&_(p[1])?b.intval(p):b.quote(p)),s.push(l+" < "+p[0]+" OR "+l+" > "+p[1])):o[R]("gt")||o[R]("gte")?(f=o[R]("gt")?"gt":"gte",p=o[f],"raw"===h||(p="integer"===h||_(p)?b.intval(p):"identifier"===h||"field"===h?b.refs(p,E)[0][c]:b.quote(p)),s.push(l+("gt"===f?" > ":" >= ")+p)):o[R]("lt")||o[R]("lte")?(f=o[R]("lt")?"lt":"lte",p=o[f],"raw"===h||(p="integer"===h||_(p)?b.intval(p):"identifier"===h||"field"===h?b.refs(p,E)[0][c]:b.quote(p)),s.push(l+("lt"===f?" < ":" <= ")+p)):o[R]("not_equal")||o[R]("not_eq")?(f=o[R]("not_eq")?"not_eq":"not_equal",p=o[f],"raw"===h||(p="integer"===h||_(p)?b.intval(p):"identifier"===h||"field"===h?b.refs(p,E)[0][c]:b.quote(p)),s.push(l+" <> "+p)):(o[R]("equal")||o[R]("eq"))&&(f=o[R]("eq")?"eq":"equal",p=o[f],"raw"===h||(p="integer"===h||_(p)?b.intval(p):"identifier"===h||"field"===h?b.refs(p,E)[0][c]:b.quote(p)),s.push(l+" = "+p))}else l=b.refs(i,E)[0][c],s.push(l+" = "+(_(o)?o:b.quote(o)));return s.length&&(t="("+s.join(") AND (")+")"),t},joinConditions:function(e,n){var t,s,i,l,r,o,u,a,c,_,d,f,h=this,p=0;for(t in n)n[R](t)&&(s=b.parse(t,h),i=s._col,e[R](i)&&(l=n[t],o=e[i].table,u=e[i].id,a=e[i].join,c=e[i].join_id,p++,_=a+p,r={},e[i][R]("key")&&i!==e[i].key?(d=e[i].key,r[_+"."+d]=i):d=i,e[i][R]("value")?(f=e[i].value,r[_+"."+f]=l):(f=d,r[_+"."+f]=l),h.Join(a+" AS "+_,o+"."+u+"="+_+"."+c,"inner").Where(r),delete n[t]));
return h},refs:function(e,n,t){var s=this;if(!0===t){var i,l,r,o,u,a,c,_,f;for(i=0,l=e.length;l>i;i++)r=e[i],u=r.alias,a=r.qualified,c=r.full,"*"!==c&&(n[R](u)?e[i]=n[u]:n[R](c)?(o=n[c],_=o.alias,f=o.full,f!==c&&_!==u&&_===c&&(o=o.cloned(r.alias),e[i]=n[u]=o)):n[R](a)?(o=n[a],o.qualified!==a&&(o=n[o.qualified]),o=r.full!==r.alias?o.cloned(r.alias,null,r._func):o.cloned(null,o.alias,r._func),e[i]=n[o.alias]=o,o.alias===o.full||n[R](o.full)||(n[o.full]=o)):(n[u]=r,u===c||n[R](c)||(n[c]=r)))}else{var i,l,h,p,E,g,r,u,a;for(g=d(e),e=[],i=0,l=g.length;l>i;i++)for(E=g[i].split(","),h=0,p=E.length;p>h;h++)r=b.parse(E[h],s),u=r.alias,a=r.full,n[R](u)?r=n[u]:(n[u]=r,a===u||n[R](a)||(n[a]=r)),e.push(r)}return e},tbl:function(e){var n=this;if(o(e)){for(var t=0,s=e.length;s>t;t++)e[t]=n.tbl(e[t]);return e}return n.p+e},intval:function(e){var n=this;if(o(e)){for(var t=0,s=e.length;s>t;t++)e[t]=n.intval(e[t]);return e}return parseInt(e,10)},quote_name:function(e,n){var t=this,s=t.qn;if(n=!0===n,o(e)){for(var i=0,l=e.length;l>i;i++)e[i]=t.quote_name(e[i],n);return e}return n?(s[0]==e.slice(0,s[0].length)?"":s[0])+e+(s[1]==e.slice(-s[1].length)?"":s[1]):s[0]+e+s[1]},quote:function(e){var n=this,t=n.q;if(o(e)){for(var s=0,i=e.length;i>s;s++)e[s]=n.quote(e[s]);return e}return t[0]+n.esc(e)+t[1]},like:function(e){var n,t,s=this;if(o(e)){for(var i=0,l=e.length;l>i;i++)e[i]=s.like(e[i]);return e}return n=s.q,t=s.escdb?["",""]:s.e,t[0]+n[0]+"%"+s.esc_like(s.esc(e))+"%"+n[1]+t[1]},multi_like:function(e,n,t){var s,i,l,r,o,u,a,c=this;for(t=!1!==t,s=e+" LIKE ",i=n.split(","),t&&(i=E(p(i,D),Boolean)),r=0,o=i.length;o>r;r++){for(l=i[r].split("+"),t&&(l=E(p(l,D),Boolean)),u=0,a=l.length;a>u;u++)l[u]=s+c.like(l[u]);i[r]="("+l.join(" AND ")+")"}return i.join(" OR ")},esc:function(e){var n,t,s,i,l,r,u,a=this;if(o(e)){for(s=0,i=e.length;i>s;s++)e[s]=a.esc(e[s]);return e}if(a.escdb)return a.escdb(e);for(u=a.q,n="\\"+H,t="\\",e=String(e),l="",s=0,i=e.length;i>s;s++)r=e.charAt(s),l+=u[0]===r?u[2]:u[1]===r?u[3]:f(r,n,t);return l},esc_like:function(e){var n=this;if(o(e)){for(var t=0,s=e.length;s>t;t++)e[t]=n.esc_like(e[t]);return e}return f(e,"_%","\\")},sql_function:function(e,n){var t,s,i,l,r,o=this;if(null==q.dialects[o.type].functions[e])throw new TypeError('Dialect: SQL function "'+e+'" does not exist for dialect "'+o.type+'"');for(e=q.dialects[o.type].functions[e],n=null!=n?d(n):[],r=n.length,t="",s=!1,i=0,l=e.length;l>i;i++)t+=s?e[i]<r?n[e[i]]:"":e[i],s=!s;return t}},q});